<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Job Links</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .job-btn {
      background-color: #0d6efd;
      color: white;
      transition: background-color 0.3s ease;
    }
    .job-btn:hover {
      background-color: #ffc107;
      color: black;
    }
    .job-btn.clicked {
      background-color: #ffc107 !important;
      color: black !important;
    }
  </style>
</head>
<body class="p-4">

  <div id="buttonContainer" class="d-flex flex-wrap gap-2"></div>

  <script>
    const container = document.getElementById("buttonContainer");

    fetch("linkedin_links.txt")
      .then(response => response.text())
      .then(data => {
        const lines = data.trim().split("\n");

        let n = 0;
        lines.forEach(link => {
          n++;
          const cleanedLink = link.trim();
          if (!cleanedLink) return;

          // Extract company slug from URL
          let match = cleanedLink.match(/company\/([^\/\?\n]+)/);
          if (match) {
            const slug = match[1];

            // Convert slug to readable name
            const companyName = slug
              .replace(/-/g, " ")              // hyphen to space
              .replace(/\b\w/g, char => char.toUpperCase()); // capitalize each word

            const a = document.createElement("a");
            a.href = cleanedLink;
            a.target = "_blank";
            a.className = "btn job-btn";
            a.textContent = "("+n+") - " + companyName;

            a.addEventListener("click", () => {
              a.classList.add("clicked");
            });

            container.appendChild(a);
          }
        });
      })
      .catch(err => {
        console.error("Failed to load job_links.txt", err);
      });
  </script>

</body>
</html>
